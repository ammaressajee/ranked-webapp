@import "../styles.scss";

// Assuming variables are imported here.
$full-sidebar-width: 250px; // Full width when open
$collapsed-sidebar-width: 80px; // Width when collapsed (icons-only)
$mobile-sidebar-width: 85vw; 

.app-shell {
    display: flex; 
    min-height: 100vh;
    width: 100%;
    background-color: $dark-content-bg;
    position: relative;
    color: $text-primary;
    overflow-x: hidden;
}

/* --- Menu Toggle Button (Always visible on mobile, positioned on desktop) --- */
.menu-toggle-button {
    position: fixed;
    top: 15px;
    z-index: 1500; 
    
    // ðŸ’¡ Desktop FIX: Move button to be just outside the collapsed sidebar
    @media (min-width: 1024px) {
        left: $collapsed-sidebar-width + 15px; /* Position next to the collapsed sidebar */
        display: block; // Always visible on desktop for toggling
    }
}


/* --- Sidebar Positioning (Responsive) --- */
app-sidebar {
    position: fixed; 
    top: 0;
    bottom: 0;
    z-index: 1000;
    box-shadow: 4px 0 20px rgba(0, 0, 0, 0.7);
    transition: transform 0.3s ease, width 0.3s ease; // Add width to transition
    
    // Mobile (< 1024px): Fully off-canvas overlay
    width: $mobile-sidebar-width; 
    transform: translateX(-100%); 
    
    &.open {
        transform: translateX(0); 
    }

    // ðŸ’¡ Desktop (>= 1024px): Collapsed fixed state
    @media (min-width: 1024px) {
        position: sticky; 
        left: 0;
        transform: translateX(0);
        width: $collapsed-sidebar-width; 
        flex-shrink: 0;
        
        &.open {
            width: $full-sidebar-width;
        }
    }
}


/* --- Main Content Area --- */
.app-content-area {
    flex-grow: 1;
    width: 100%;
    padding: 30px;
    min-height: 100vh;
    transition: margin-left 0.3s ease;
    
    @media (min-width: 1024px) {
        // Content starts with a margin for the collapsed sidebar
        margin-left: $collapsed-sidebar-width; 
        padding-left: 30px; 
    }
}

// ðŸ’¡ PUSHED Class: Applied when sidebar is open
.app-content-area.pushed {
    @media (min-width: 1024px) {
        margin-left: $full-sidebar-width; 
    }
}