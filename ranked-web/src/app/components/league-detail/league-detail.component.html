<div class="league-detail page">
    <h2>League {{ leagueId }}</h2>

    <a [routerLink]="['/leagues', leagueId, 'join']">Join League</a>

    <h3>Participants</h3>
    <ul>
        <li *ngFor="let p of participants$ | async">
            {{ p.displayName }} â€” Rank: {{ p.currentRank }} â€” {{ p.location }}
        </li>
    </ul>

    <h3>Matchmaking</h3>
    <label>Location filter (optional)</label>
    <input [(ngModel)]="filterCity" placeholder="City (optional)" />

    <div class="buttons">
        <button (click)="generatePairsForRound()" [disabled]="generating">
            ğŸ² Generate Round {{ round }} Matches
        </button>

        <button (click)="openMatches()">ğŸ“‹ View Matches</button>

        <button (click)="checkAndGenerateNextRound()">
            â­ï¸ Check & Generate Next Round
        </button>
    </div>

    <div *ngIf="generatedIds.length > 0" class="mt-3">
        <p>âœ… Generated matches:</p>
        <ul>
            <li *ngFor="let id of generatedIds">{{ id }}</li>
        </ul>
    </div>
</div>